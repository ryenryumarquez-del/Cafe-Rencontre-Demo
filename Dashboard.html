  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lily+Script+One&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Fjalla+One&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,700;1,700&family=Quicksand:wght@300..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital@0;1&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Fjalla+One&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,700;1,700&family=Quicksand:wght@300..700&family=Roboto+Condensed&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital@0;1&display=swap" rel="stylesheet">
  <body>
  </head>
  <body>

    <div class="dashborad-card">
      <div class="logo-title-btn">
        <div class="logo-title">
          <span class="logo"><img src="/Background-Image/Cafe Rencontre Logo.svg" alt=""></span>
          <p class="Text-title">Cafe Rencontre</p>
        </div>
        <button id="back-button" class="back-btn">
          <span class="back-icon"><img src="/Background-Image/back-btn.png" alt=""></span>
          <p>Back to Menu</p>
        </button>
      </div>
      <div class="container-bar">
        <ul class="nav-bar">
          <div class="products">
            <img src="/Background-Image/Box.png" alt="">
            <li><a href="Products">Products</a></li>
          </div>
          <div class="Ingredients">
            <img src="/Background-Image/storage.png" alt="">
            <li><a href="Ingredients.html">Ingredients</a></li>
          </div>
          <div class="cart">
            <img src="/Background-Image/cart.png" alt="">
            <li><a href="Orders">Orders</a></li>
          </div>
          <div class="report">
            <img src="/Background-Image/report.png" alt="">
            <li><a href="Analytics.html">Analytics</a></li>
          </div>
        </ul>
      </div>

      
      <div class="product-management-card">
        <div class="title-add-products"> 
          <div class="title">
            <p>Product Management</p>
          </div>
          <button id="add-button" class="add-btn">
            <span><img class="white" src="/Background-Image/Plus.png" alt=""></span>
            <p>Add Product</p>
          </button>
        </div>
        <div id="search" class="search-container">
          <span><img id="search-icon" class="icon" src="/Background-Image/magnifying glass.png" alt=""></span>
          <input class="search-bar" type="text" placeholder="Search">
          <span><img id="filter-icon" class="icon" src="/Background-Image/filter icon.png" alt=""></span>
        </div>
        
        <!--Add Product-->
        <div id="productList" class="product-list"></div>
        <div id="popup" class="popup-container">
          <div class="popup-content">
            <span id="closePopup" class="close-btn">&times;</span>
            <h2>Add Product</h2>
          
            <label class="title">Product Name:</label>
            <input type="text" id="pname" class="input-box-name">

            <label class="title">Category:</label>
            <input list="option" id="pcategory" class="input-box-category">
            <datalist id="option">
              <option value="Brewed Based"></option>
            </datalist>

            <label class="title">Description:</label>
            <textarea id="pdesc" class="input-box-desc"></textarea>

            <label class="title">Price:</label>
            <input type="text" id="pprice" class="input-box-number">

            <div class="popup-actions">
              <button id="cancelPopup" class="cancel-btn">Cancel</button>
              <button id="confirmPopup" class="confirm-btn">Confirm</button>
            </div>
          </div>
        </div>

      </div>
    </div>
    
  <script>
    let editingProduct = null; 

    document.getElementById("add-button").onclick = () => {
        editingProduct = null;
        clearFields();
        document.querySelector(".popup-content h2").textContent = "Add Product";
        document.getElementById("confirmPopup").textContent = "Confirm";
        document.getElementById("popup").style.display = "flex";
    };

    document.getElementById("closePopup").onclick = closePopup;
    document.getElementById("cancelPopup").onclick = closePopup;

    function closePopup() {
        document.getElementById("popup").style.display = "none";
    }

    function clearFields() {
        document.getElementById("pname").value = "";
        document.getElementById("pcategory").value = "";
        document.getElementById("pdesc").value = "";
        document.getElementById("pprice").value = "";
    }

    document.getElementById("confirmPopup").onclick = () => {
        let name = document.getElementById("pname").value;
        let cat = document.getElementById("pcategory").value;
        let desc = document.getElementById("pdesc").value;
        let price = document.getElementById("pprice").value;

        if (!name || !cat || !desc || !price) {
            alert("Fill all fields");
            return;
        }

        if (editingProduct) {
            editingProduct.querySelector(".name h3").textContent = name;
            editingProduct.querySelector(".category p").textContent = cat;
            editingProduct.querySelector(".description p").textContent = desc;
            editingProduct.querySelector(".price-stock p").textContent = `₱${price}`;
            editingProduct = null;
            closePopup();
            return;
        }

        let container = document.getElementById("productList");

        let product = document.createElement("div");
        product.className = "product-item";

        product.innerHTML = `
            <div class="product-info">
              <div class="name-category">
                <div class="name">
                  <h3>${name}</h3>
                </div>

                <div class="category">
                  <p>${cat}</p>
                </div>
              </div>

              <div class="description">
                <p><span class= "desc-text">${desc}</desc> <img class="edit-icon" src="/Background-Image/edit icon.png"></p>
              </div>
            </div>

            <div class="price-stock-button-delete-button">
                <div class="price-stock">
                    <p>₱${price}</p>
                </div>

                <div class="button-group">
                    <button class="delete-btn">
                      <img src="/Background-Image/delete icon.png">
                    </button>
                    <button class="stock-toggle">
                      <img class="in-stock" src="/Background-Image/toggle left.jpg">
                    </button>
                </div>
            </div>
        `;

        product.querySelector(".edit-icon").onclick = () => openEdit(product);
        product.querySelector(".delete-btn").onclick = () => product.remove();

        const stockToggle = product.querySelector(".stock-toggle");
        const stockImage = stockToggle.querySelector(".in-stock");

         stockToggle.onclick = () => {
        const currentSrc = stockImage.src.toLowerCase();
        
        if (currentSrc.includes("toggle left")) {
            stockImage.src = "/Background-Image/toggle right.jpg";
        } else {
            stockImage.src = "/Background-Image/toggle left.jpg";
        }
    };

        container.appendChild(product);
        closePopup();
    };

    function openEdit(product) {
        editingProduct = product;

        document.querySelector(".popup-content h2").textContent = "Edit Product";
        document.getElementById("confirmPopup").textContent = "Save";

        document.getElementById("pname").value =
            product.querySelector(".name h3").textContent;
        document.getElementById("pcategory").value =
            product.querySelector(".category p").textContent;
        document.getElementById("pdesc").value =
            product.querySelector(".description p").textContent;

        document.getElementById("pprice").value =
            product.querySelector(".price-stock p").textContent.replace("₱", "");

        document.getElementById("popup").style.display = "flex";
    }
</script>


  </body>
  </html> 